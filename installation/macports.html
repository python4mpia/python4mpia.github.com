

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MacPorts &mdash;  0.1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title=" 0.1.0 documentation" href="../index.html" />
    <link rel="up" title="MacOS" href="mac.html" />
    <link rel="next" title="Linux" href="linux.html" />
    <link rel="prev" title="EPDFree Installation (MacOS)" href="EPDFree_mac.html" />
 
<script type="text/javascript"> 
$(document).ready(function(){

$(".flip0").click(function(){
    $(".panel0").slideToggle("normal");
  });

$(".flip1").click(function(){
    $(".panel1").slideToggle("normal");
  });

$(".flip2").click(function(){
    $(".panel2").slideToggle("normal");
  });

$(".flip3").click(function(){
    $(".panel3").slideToggle("normal");
  });

$(".flip4").click(function(){
    $(".panel4").slideToggle("normal");
  });

$(".flip5").click(function(){
    $(".panel5").slideToggle("normal");
  });

$(".flip6").click(function(){
    $(".panel6").slideToggle("normal");
  });

$(".flip7").click(function(){
    $(".panel7").slideToggle("normal");
  });

$(".flip8").click(function(){
    $(".panel8").slideToggle("normal");
  });

$(".flip9").click(function(){
    $(".panel9").slideToggle("normal");
  });

});
</script>
 
<style type="text/css"> 

div.panel0,p.flip0
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip0
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel0
{
display:none;
}

div.panel1,p.flip1
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip1
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel1
{
display:none;
}

div.panel2,p.flip2
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip2
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel2
{
display:none;
}

div.panel3,p.flip3
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip3
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel3
{
display:none;
}

div.panel4,p.flip4
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip4
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel4
{
display:none;
}

div.panel5,p.flip5
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip5
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel5
{
display:none;
}

div.panel6,p.flip6
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip6
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel6
{
display:none;
}

div.panel7,p.flip7
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip7
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel7
{
display:none;
}

div.panel8,p.flip8
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip8
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel8
{
display:none;
}

div.panel9,p.flip9
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip9
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel9
{
display:none;
}

</style>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-27427631-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="linux.html" title="Linux"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="EPDFree_mac.html" title="EPDFree Installation (MacOS)"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html"> 0.1.0 documentation</a> &raquo;</li>
          <li><a href="installation.html" >Python Installation and Understanding Packages</a> &raquo;</li>
          <li><a href="python_install.html" >Installing a scientific Python distribution</a> &raquo;</li>
          <li><a href="mac.html" accesskey="U">MacOS</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">MacPorts</a><ul>
<li><a class="reference internal" href="#why-use-macports">Why use MacPorts?</a></li>
<li><a class="reference internal" href="#installing-macports">Installing MacPorts</a></li>
<li><a class="reference internal" href="#installing-packages">Installing Packages</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#test-your-installation">Test your installation</a></li>
<li><a class="reference internal" href="#searching-for-packages">Searching for packages</a></li>
<li><a class="reference internal" href="#installing-packages-not-in-macports">Installing packages not in MacPorts</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="EPDFree_mac.html"
                        title="previous chapter">EPDFree Installation (MacOS)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="linux.html"
                        title="next chapter">Linux</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/installation/macports.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="macports">
<span id="id1"></span><h1>MacPorts<a class="headerlink" href="#macports" title="Permalink to this headline">¶</a></h1>
<div class="section" id="why-use-macports">
<h2>Why use MacPorts?<a class="headerlink" href="#why-use-macports" title="Permalink to this headline">¶</a></h2>
<p>The advantages of using MacPorts over EPDFree and other packages are:</p>
<ul class="simple">
<li>A full 64-bit installation of Python</li>
<li>The ability to seamlessly install a number of packages that can otherwise be
tricky to install on Mac</li>
<li>The ability to install many other useful non-Python utilities, including the
GNU Fortran compilers and many common X11 applications (<tt class="docutils literal"><span class="pre">xemacs</span></tt>, <tt class="docutils literal"><span class="pre">gv</span></tt>,
<tt class="docutils literal"><span class="pre">xv</span></tt>, etc.)</li>
</ul>
<p>The only downside is the long wait for the initial installation (which can
take hours) since everything is compiled from source. But this can be left
overnight for example, and does not require continuous attention.</p>
<p>The following instructions here are adapted from <a class="reference external" href="http://astrofrog.github.com/macports-python/">here</a></p>
</div>
<div class="section" id="installing-macports">
<h2>Installing MacPorts<a class="headerlink" href="#installing-macports" title="Permalink to this headline">¶</a></h2>
<p>Ensure that <a class="reference external" href="http://developer.apple.com/xcode/">XCode</a> 3 or 4 is installed
(should be on the install DVDs for your Mac). If you like to live on the
bleeding edge, you can purchase XCode 4 from the Mac App Store. To check if
XCode is installed properly, you can type <tt class="docutils literal"><span class="pre">gcc</span></tt> in the command-line. If you
get <tt class="docutils literal"><span class="pre">gcc:</span> <span class="pre">command</span> <span class="pre">not</span> <span class="pre">found</span></tt>, then XCode is not properly installed.</p>
<p>Download the DMG image for MacPorts from <a class="reference external" href="http://www.macports.org/install.php">here</a> - be sure to pick the correct
one for your MacOS X version. Mount the disk image and run the installer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if needed, it is possible to install MacPorts without root/admin
privileges - see <a class="reference external" href="https://trac.macports.org/wiki/InstallingMacPorts#InstallMacPortsfromsourceasanunprivilegednon-rootuser">here</a>
for more details.</p>
</div>
</div>
<div class="section" id="installing-packages">
<h2>Installing Packages<a class="headerlink" href="#installing-packages" title="Permalink to this headline">¶</a></h2>
<p>Go to the terminal and update the package index:</p>
<div class="highlight-python"><pre>sudo port selfupdate</pre>
</div>
<p>To install Python and most of the basic Python packages, run:</p>
<div class="highlight-python"><pre>sudo port install py27-matplotlib py27-numpy py27-scipy py27-ipython py27-pip</pre>
</div>
<p>Note that this will probably take several hours, and is best done overnight.</p>
<p>To install the packages required for this course, use:</p>
<div class="highlight-python"><pre>sudo port install py27-pyfits py27-pywcs py27-vo py27-asciitable py27-atpy py27-aplpy</pre>
</div>
<p>MacPorts will automatically take care of any dependencies, including
<tt class="docutils literal"><span class="pre">py27-pyregion</span></tt> and <tt class="docutils literal"><span class="pre">py27-parsing</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">by default SQL dependencies are not installed for <tt class="docutils literal"><span class="pre">py27-atpy</span></tt>, and
the Montage dependency is not installed for <tt class="docutils literal"><span class="pre">py27-aplpy</span></tt>. If you
want to install these, use sudo port install <tt class="docutils literal"><span class="pre">py27-atpy</span> <span class="pre">+sql</span></tt>) and
sudo port install <tt class="docutils literal"><span class="pre">py27-aplpy</span> <span class="pre">+montage</span> <span class="pre">respectively</span></tt>).</p>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>If it does not already exist, create a folder called <tt class="docutils literal"><span class="pre">.matplotlib</span></tt> in your
home directory and copy the default <tt class="docutils literal"><span class="pre">matplotlibrc</span></tt> file to it:</p>
<div class="highlight-python"><pre>cp /opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/matplotlib/mpl-data/matplotlibrc ~/.matplotlib/</pre>
</div>
<p>Edit .matplotlib/matplotlibrc and change the following line:</p>
<div class="highlight-python"><pre>backend : Agg</pre>
</div>
<p>to:</p>
<div class="highlight-python"><pre>backend : MacOSX</pre>
</div>
<p>This ensures that when you use Matplotlib interactively, a window will pop up.
Optionally, you can uncomment and set the image.origin and image.interpolation
lines to:</p>
<div class="highlight-python"><pre>image.origin : lower
image.interpolation : nearest</pre>
</div>
<p>These settings are likely to be the most useful for plotting astronomical
data.</p>
<p>Make this Python installation the default:</p>
<div class="highlight-python"><pre>sudo port select --set python python27
sudo port select --set ipython ipython27</pre>
</div>
<p>Note that this is optional - you can also invoke this Python installation by
using <tt class="docutils literal"><span class="pre">python2.7</span></tt> and <tt class="docutils literal"><span class="pre">ipython-2.7</span></tt>.</p>
</div>
<div class="section" id="test-your-installation">
<h2>Test your installation<a class="headerlink" href="#test-your-installation" title="Permalink to this headline">¶</a></h2>
<p>To do a test whether you have a functioning core scientific Python
installation, do the following to check version numbers. First on the
command line check the version numbers of python and ipython:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">python</span> <span class="o">-</span><span class="n">V</span>
<span class="n">ipython</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
<p>Then run ipython from the command line with the <tt class="docutils literal"><span class="pre">--pylab</span></tt> flag:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ipython</span> <span class="o">--</span><span class="n">pylab</span>
</pre></div>
</div>
<p>and inside ipython run the following python commands:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">scipy</span>
<span class="kn">import</span> <span class="nn">scipy.linalg</span>
<span class="kn">import</span> <span class="nn">pylab</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="k">print</span> <span class="n">numpy</span><span class="o">.</span><span class="n">__version__</span>
<span class="k">print</span> <span class="n">scipy</span><span class="o">.</span><span class="n">__version__</span>
<span class="k">print</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">__version__</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="k">print</span> <span class="n">scipy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eig</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
</pre></div>
</div>
<p>The commands above should succeed with no errors.  The version numbers
should meet the requirements, and finally you should see a plot of a
sine wave.</p>
<p>To check the other required packages, do the following also from
within ipython:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">asciitable</span>
<span class="kn">import</span> <span class="nn">pyfits</span>
<span class="kn">import</span> <span class="nn">pywcs</span>
<span class="kn">import</span> <span class="nn">atpy</span>
<span class="kn">import</span> <span class="nn">aplpy</span>
</pre></div>
</div>
<p>If all the above commands run without errors, you&#8217;ve installed
everything successfully! There is no need to install anything further
for the course, but read on for instructions on how to install future
python packages you may need using MacPorts.</p>
</div>
<div class="section" id="searching-for-packages">
<h2>Searching for packages<a class="headerlink" href="#searching-for-packages" title="Permalink to this headline">¶</a></h2>
<p>To check if a package is available through MacPorts, you can do:</p>
<div class="highlight-python"><pre>$ port search pyfits

py25-pyfits @2.4.0 (python, science)
Python interface to FITS formatted files

py26-pyfits @2.4.0 (python, science)
Python interface to FITS formatted files

py27-pyfits @2.4.0 (python, science)
Python interface to FITS formatted files

Found 3 ports.</pre>
</div>
<p>Be sure to install the one for the correct Python version (<tt class="docutils literal"><span class="pre">py27-*</span></tt> if
you&#8217;ve been using the above instructions).</p>
<p>Before installing the package, you can check what variants are available:</p>
<div class="highlight-python"><pre>$ port variants py27-aplpy
py27-aplpy has the variants:
[+]avm: Include support for AVM meta-data
[+]ds9: Include support for DS9 region files
  montage: Include support for Montage reprojection
[+]rgb: Include support for RGB images
  universal: Build for multiple architectures</pre>
</div>
<p>Variants listed with <tt class="docutils literal"><span class="pre">[+]</span></tt> are installed by default. To remove a default
variant, use <tt class="docutils literal"><span class="pre">-variant</span></tt>. To include a variant not installed by default, use
<tt class="docutils literal"><span class="pre">+variant</span></tt>. For example, the following will install APLpy with support for
Montage, but not for RGB images:</p>
<div class="highlight-python"><pre>sudo port install py27-aplpy +montage -rgb</pre>
</div>
</div>
<div class="section" id="installing-packages-not-in-macports">
<h2>Installing packages not in MacPorts<a class="headerlink" href="#installing-packages-not-in-macports" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not use <tt class="docutils literal"><span class="pre">sudo</span></tt> when installing packages not in MacPorts!
Read the following instructions carefully to avoid any issues.</p>
</div>
<p>When installing packages not in MacPorts, first make sure that you remove your
<tt class="docutils literal"><span class="pre">.pydistutils</span></tt> file if you have one, then simply use:</p>
<div class="highlight-python"><pre>python setup.py install --user</pre>
</div>
<p>(do not omit <tt class="docutils literal"><span class="pre">--user</span></tt> and do not use <tt class="docutils literal"><span class="pre">sudo</span></tt>). This will place user
installed packages in <tt class="docutils literal"><span class="pre">~/Library/Python/2.7/lib/python/site-packages</span></tt> where
they will automatically be picked up by the Python installation, without
messing up the MacPorts file structure. Note that you can also install
packages in a similar way using <tt class="docutils literal"><span class="pre">easy_install-2.7</span></tt> and <tt class="docutils literal"><span class="pre">pip-2.7</span></tt> by
specifying the <tt class="docutils literal"><span class="pre">--user</span></tt> option.</p>
<p>The reason for installing packages with <tt class="docutils literal"><span class="pre">--user</span></tt> is that if instead you
install packages using <tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></tt>, the packages will be
installed inside the MacPorts tree, but MacPorts won&#8217;t be aware of it, so this
could cause issues in future if the package is installed via MacPorts. As a
rule of thumb, don&#8217;t ever install anything into <tt class="docutils literal"><span class="pre">/opt/local/</span></tt> other than via
the port command. If you did mistakenly install packages to the MacPorts
directory, just go to
<tt class="docutils literal"><span class="pre">/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages</span></tt>
and remove the files relating to the package you installed.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="linux.html" title="Linux"
             >next</a> |</li>
        <li class="right" >
          <a href="EPDFree_mac.html" title="EPDFree Installation (MacOS)"
             >previous</a> |</li>
        <li><a href="../index.html"> 0.1.0 documentation</a> &raquo;</li>
          <li><a href="installation.html" >Python Installation and Understanding Packages</a> &raquo;</li>
          <li><a href="python_install.html" >Installing a scientific Python distribution</a> &raquo;</li>
          <li><a href="mac.html" >MacOS</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright .
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>